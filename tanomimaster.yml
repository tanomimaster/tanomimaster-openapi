openapi: 3.0.3
info:
  version: 2.2.0-rc1
  title: Tanomimaster REST API Specification
  description: |
    タノミマスターのREST APIサービスの仕様書です。
    APIの仕様策定は以下のレポジトリで行っています。
    [https://github.com/tanomimaster/tanomimaster-openapi](https://github.com/tanomimaster/tanomimaster-openapi).
    APIの実行にはAPIキーが必要です。小売、またはメーカーの管理画面から取得できます。

    # 概要
    このAPI仕様書は **OpenAPI フォーマット** で記述されています。
    APIの種別は3つあります。
    - 小売り(発注者)向け
    - メーカー(受注者)向け
    - 共通

    サーバを通してこのドキュメントをプレビューしている場合は、このドキュメントにあるAPI仕様が実装されたバージョンのアプリケーションが稼働していることを担保されています。
    動作している環境によってバージョン番号が異なることがあると思いますのでご注意ください。

    <!--
    # Cross-Origin Resource Sharing
    This API features Cross-Origin Resource Sharing (CORS) implemented in compliance with  [W3C spec](https://www.w3.org/TR/cors/).
    And that allows cross-domain communication from the browser.
    All responses have a wildcard same-origin which makes them completely public and accessible to everyone, including any code on any site.
    -->

    # 認証

    タノミマスターはAPIキーによる認証を提供しています。

  license:
    name: All Rights Reserved
  contact:
    name: Yuki Matsukura
    url: 'https://tanomimaster.freshdesk.com/support/tickets/new'
    email: support@tanomimaster.freshdesk.com
  x-logo:
    url: "https://tanomimaster.com/favicons/icon-256x256.png"
    backgroundColor: '#000000'
    altText: 'Tanomimaster'
servers:
  - url: 'https://development.tanomimaster.com/api/v1'
    description: 開発環境
  - url: 'https://staging.tanomimaster.com/api/v1'
    description: ステージング
  - url: 'https://tanomimaster.com/api/v1'
    description: 本番環境
paths:
  /retail/products:
    get:
      summary: 商品の一覧を取得
      operationId: getProducts
      description: Productの配列を取得
      tags:
        - Retail
      parameters:
        - name: limit
          in: query
          description: How many items to return at one time (max 100)
          required: false
          schema:
            type: integer
            format: int32
        - schema:
            type: string
          in: query
          name: maker_code
          description: ''
        - schema:
            type: string
          in: query
          name: product_code
      responses:
        '200':
          description: A paged array of products
          headers:
            X-Total-Pages:
              schema:
                type: integer
            X-Total:
              schema:
                type: integer
            X-Prev-Page:
              schema:
                type: integer
                nullable: true
            X-Per-Page:
              schema:
                type: integer
            X-Page:
              schema:
                type: integer
            X-Next-Page:
              schema:
                type: integer
                nullable: true
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Product'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
        - ApiKeyAuth: []
    parameters: []
  '/retail/products/{product_id}':
    get:
      summary: 商品を取得
      operationId: showProductById
      description: Productを取得
      tags:
        - Retail
      parameters:
        - name: product_id
          in: path
          required: true
          description: ID
          schema:
            type: string
      responses:
        '200':
          description: Expected response to a valid request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
        - ApiKeyAuth: []
    parameters:
      - schema:
          type: integer
          default: 1
          minimum: 1
        name: product_id
        in: path
        description: 商品ID
        required: true
  /retail/orders:
    parameters: []
    get:
      summary: 注文の一覧を取得
      operationId: getRetailOrders
      description: Orderの配列を取得
      tags:
        - Retail
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/OrderWithDescendant'
          headers:
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
            X-Prev-Page:
              schema:
                type: integer
                nullable: true
            X-Total:
              schema:
                type: integer
            X-Total-Pages:
              schema:
                type: integer
            X-Next-Page:
              schema:
                type: integer
                nullable: true
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
        - ApiKeyAuth: []
    post:
      summary: 注文を作成
      operationId: createOrder
      description: 注文を作成
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderWithDescendant'
              examples: {}
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples: {}
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              examples: {}
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              examples: {}
        '409':
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              examples: {}
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              examples: {}
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
        - ApiKeyAuth: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrderForCreate'
            examples: {}
      tags:
        - Retail
  '/retail/orders/{order_code}':
    parameters:
      - schema:
          type: string
        name: order_code
        in: path
        required: true
    get:
      summary: 注文を取得
      operationId: getRetailOrder
      description: Orderを取得
      tags:
        - Retail
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderWithDescendant'
              examples: {}
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
        - ApiKeyAuth: []
  '/retail/orders/{order_code}/order_products':
    parameters:
      - schema:
          type: string
        name: order_code
        in: path
        required: true
    get:
      summary: 注文明細の一覧を取得
      tags:
        - Retail
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/OrderProduct'
          headers:
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
            X-Prev-Page:
              schema:
                type: integer
                nullable: true
            X-Total:
              schema:
                type: integer
            X-Total-Pages:
              schema:
                type: integer
            X-Next-Page:
              schema:
                type: integer
                nullable: true
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      operationId: get-orders-order_code-products
      description: list OrderProduct entities
      security:
        - ApiKeyAuth: []
    post:
      summary: 注文明細を変更する
      operationId: postRetailOrdersOrderCodeOrderProducts
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderProduct'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      description: post order_product
      tags:
        - Retail
      security:
        - ApiKeyAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                maker_code:
                  type: string
                code:
                  type: string
                number_of_items:
                  type: integer
                branch_number:
                  type: integer
                  description: 注文明細No
                shipping_postcode:
                  type: string
                shipping_prefecture_code:
                  type: integer
                shipping_city:
                  type: string
                shipping_street_address:
                  type: string
                shipping_building:
                  type: string
                shipping_office_name:
                  type: string
                shipping_tel:
                  type: string
                gas_type_id:
                  description: ガス種を選択する商品の場合、必須項目
                  type: integer
                  nullable: true
                memo:
                  type: string
                  nullable: true
              required:
                - maker_code
                - code
                - number_of_items
  '/retail/orders/{order_code}/order_products/{branch_number}':
    parameters:
      - schema:
          type: string
        name: order_code
        in: path
        required: true
      - schema:
          type: string
        name: branch_number
        in: path
        required: true
        description: 注文明細No
    get:
      summary: 注文明細を取得する
      tags:
        - Retail
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderProduct'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      operationId: get-orders-order_code-products-order_product_code
      description: show OrderProduct entities corresponding to the id
      security:
        - ApiKeyAuth: []
    post:
      summary: 注文明細のステータスを変更する
      operationId: post-retail-orders-order_code-order_products-order_product_id
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderProduct'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                リクエストパラメータ不正:
                  value:
                    code: '400'
                    messages:
                      - 注文ステータスの値が不正です
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      description: 仕入納品または注文明細納品キャンセル、注文明細キャンセルを行う
      security:
        - ApiKeyAuth: []
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                order_status:
                  type: string
                  enum:
                    - delivered
                    - undelivered
                    - cancelled
            examples:
              仕入納品:
                value:
                  order_status: delivered
              注文明細納品キャンセル:
                value:
                  order_status: undelivered
              注文明細注文キャンセル:
                value:
                  order_status: cancelled
        description: ''
      tags:
        - Retail
  /retail/makers:
    get:
      deprecated: true
      summary: listMakers
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Maker'
          headers:
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
            X-Prev-Page:
              schema:
                type: integer
                nullable: true
            X-Total:
              schema:
                type: integer
            X-Total-Pages:
              schema:
                type: integer
            X-Next-Page:
              schema:
                type: integer
                nullable: true
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      operationId: listMakers
      description: list Maker entities
      security:
        - ApiKeyAuth: []
      tags:
        - Retail
    parameters: []
  '/retail/makers/{maker_id}':
    parameters:
      - schema:
          type: integer
        name: maker_id
        in: path
        required: true
    get:
      deprecated: true
      summary: showMaker
      tags:
        - Retail
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Maker'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      operationId: showMakerById
      parameters: []
      description: Show Maker entity
      security:
        - ApiKeyAuth: []
  /retail/products/check_code:
    post:
      summary: checkProductExistence
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/ProductCheckCodeResponse'
              examples:
                normal response. returns availability and price.:
                  value:
                    - maker_code: rinnai
                      products:
                        - code: 12-10002
                          maker_price_for_retail_amount: 10000
                          maker_price_for_retail_currency: JPY
                          is_available: true
                        - code: 12-10003
                          maker_price_for_retail_amount: null
                          maker_price_for_retail_currency: null
                          is_available: true
                    - maker_code: paloma
                      products:
                        - code: '10002'
                          maker_price_for_retail_amount: 10000
                          maker_price_for_retail_currency: JPY
                          is_available: false
                        - code: '10003'
                          maker_price_for_retail_amount: null
                          maker_price_for_retail_currency: null
                          is_available: false
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                リクエストパラメータ不正:
                  value:
                    code: '400'
                    messages:
                      - 'メーカーが存在しません(<MakerName>)'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      operationId: post-products-check
      description: Check the passed ids are existed in this system.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                items:
                  type: array
                  items:
                    $ref: '#/components/schemas/ProductCheckCodeRequest'
            examples:
              example:
                value:
                  - maker_code: rinnai
                    product_code:
                      - 12-10001
                      - 12-10002
                  - maker_code: noritz
                    product_code:
                      - '190001'
                      - '190002'
        description: ''
      security:
        - ApiKeyAuth: []
      tags:
        - Retail
    parameters: []
  /retail/products/kumo:
    get:
      summary: 基幹システム連動用に商品一覧を取得
      parameters:
        - name: maker_code
          in: query
          required: true
          schema:
            type: string
        - name: from
          in: query
          required: true
          example: 2021/3/30 10:00:00
          description: 時刻の指定が無い場合は0:00:00になります
          schema:
            type: string
        - name: product_code
          in: query
          example: product-1
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/ProductForKumo'
              examples:
                normal response. returns availability and price.:
                  value:
                    - maker_code: RN
                      product_code: 12-10002
                      internal_code: 12-10002
                      name: ｶﾞｽｷｭｳﾄｳｷ002
                      price_amount: 10000
                      maker_price_for_retail_amount: 8000
                      tax_division: 0
                      power_consumption: ""
                      horsepower: ""
                      start_date: 2021/01/20
                      use_gas_type_master: false
                    - maker_code: RN
                      product_code: 12-10003
                      internal_code: 12-10003
                      name: ｶﾞｽｷｭｳﾄｳｷ003
                      price_amount: 30000
                      maker_price_for_retail_amount: 20000
                      tax_division: 0
                      power_consumption: ""
                      horsepower: ""
                      start_date: 2021/01/20
                      use_gas_type_master: true
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
              examples:
                リクエストパラメータ不正:
                  value:
                    code: '400'
                    messages:
                      - 'メーカーが存在しません(<MakerName>)'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      operationId: get-products-kumo
      description: products data format for kumo.
      security:
        - ApiKeyAuth: []
      tags:
        - Retail
    parameters: []
  '/retail/retail_branches/{retail_branch_id}':
    get:
      deprecated: true
      summary: showRetailBranch
      operationId: showRetailsRetailBranchById
      description: 廃止予定。`/master/retails/{retail_id}/retail_branches/{retail_branch_id}` を利用してください。
      tags:
        - Retail
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RetailBranch'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      parameters: []
      security:
        - ApiKeyAuth: []
    parameters:
      - schema:
          type: integer
        name: retail_branch_id
        in: path
        required: true
  /retail/retail_branches:
    get:
      deprecated: true
      summary: listRetailBranches
      operationId: listRetailBranches
      description: 廃止予定。`/master/retails/{retail_id}/retail_branches` を利用してください。
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/RetailBranch'
          headers:
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
            X-Prev-Page:
              schema:
                type: integer
                nullable: true
            X-Total:
              schema:
                type: integer
            X-Total-Pages:
              schema:
                type: integer
            X-Next-Page:
              schema:
                type: integer
                nullable: true
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
        - ApiKeyAuth: []
      tags:
        - Retail
    parameters: []
  /retail/retail_sales_offices:
    get:
      deprecated: true
      summary: listRetailSalesOffices
      operationId: listRetailSalesOffices
      description: 廃止予定。`/master/retails/{retail_id}/retail_branches` を利用してください。
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/RetailSalesOffice'
          headers:
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
            X-Prev-Page:
              schema:
                type: integer
                nullable: true
            X-Total:
              schema:
                type: integer
            X-Total-Pages:
              schema:
                type: integer
            X-Next-Page:
              schema:
                type: integer
                nullable: true
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
        - ApiKeyAuth: []
      tags:
        - Retail
    parameters: []
  '/retail/retail_sales_offices/{retail_sales_office_id}':
    get:
      deprecated: true
      summary: showRetailSalesOffice
      operationId: showRetailSalesOfficeById
      description: 廃止予定。`/master/retails/{retail_id}/retail_branches/{sales_office_id}` を利用してください。
      tags:
        - Retail
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RetailSalesOffice'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      parameters: []
      security:
        - ApiKeyAuth: []
    parameters:
      - schema:
          type: integer
        name: retail_sales_office_id
        in: path
        required: true
  /retail/retail_users:
    get:
      summary: 自社小売りのユーザ一覧を取得
      operationId: getRetailUsers
      description: RetailUserの配列を取得
      tags:
        - Retail
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/RetailUser'
      security:
        - ApiKeyAuth: []
    post:
      summary: 自社小売りのユーザを一括更新
      operationId: updateRetailUsers
      description: RetailUserの配列をパラメータとして一括更新
      tags:
        - Retail
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                items:
                  type: array
                  items:
                    type: object
                    properties:
                      user_code:
                        type: string
                      sales_office_code:
                        type: string
                      email:
                        type: string
                      password:
                        type: string
                      last_name:
                        type: string
                      first_name:
                        type: string
                      last_name_kane:
                        type: string
                      first_name_kana:
                        type: string
                      role:
                        type: string
                      tel:
                        type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        retail_user_code:
                          type: string
                        successful:
                          type: boolean
                        message:
                          type: string
  /retail/retail_users/check_registrations:
    post:
      summary: 指定したユーザが存在するかをチェック
      operationId: checkRegistrationForRetailUser
      description: RetailUserの存在確認用
      tags:
        - Retail
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        retail_user_code:
                          type: string
                        retail_sales_office_code:
                          type: string
                        registed:
                          type: boolean
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                retail_user_codes:
                  type: array
                  items:
                    type: string
      security:
        - ApiKeyAuth: []
  /retail/orders/batch:
    post:
      summary: 一括で発注する
      operationId: post-retai-orders-batch
      description: OrderForCreateの配列を指定することにより一括で注文を作成する。
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      oneOf:
                        - $ref: '#/components/schemas/OrderWithDescendant'
                        - type: object
                          properties:
                            error:
                              $ref: '#/components/schemas/Errors'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        error:
                          $ref: '#/components/schemas/Errors'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
        - ApiKeyAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                items:
                  type: array
                  items:
                    $ref: '#/components/schemas/OrderForCreate'
            examples:
              single product:
                value:
                  items:
                    - code: '2000000014'
                      ordered_at: '2020/03/03 12:43:36'
                      makers:
                        - maker_code: matsukura
                          shipping_postcode: "338-0824"
                          shipping_preferecture_code: "11"
                          shipping_city: "さいたま市桜区"
                          shipping_street_address: "上大久保８８８－５"
                          shipping_building: null
                          shipping_office_name: "日本瓦斯株式会社　浦和営業所"
                          shipping_tel: 048-854-1910
                          retail_user_code: matsukura-sales
                          retail_sales_office_code: '000'
                          desired_delivery_date: 2020-03-20
                          products:
                            - code: '000'
                              branch_number: 2
                              number_of_items: 3
                              gas_type_id: null
                              memo: 備考欄
      tags:
        - Retail
    parameters: []
  /categories:
    get:
      deprecated: true
      summary: カテゴリ一覧
      description: "`/master/categories`にエンドポイントが変更になります。"
      operationId: listCategoriesOld
      tags:
        - Common
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Category'
            application/xml:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Category'
            multipart/form-data:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Category'
          headers:
            X-Next-Page:
              schema:
                type: integer
                nullable: true
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
            X-Prev-Page:
              schema:
                type: integer
                nullable: true
            X-Total:
              schema:
                type: integer
            X-Total-Pages:
              schema:
                type: integer
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    parameters: []
  '/categories/{category_id}':
    parameters:
      - schema:
          type: integer
        name: category_id
        in: path
        required: true
    get:
      deprecated: true
      summary: カテゴリ単体
      description: "`/master/category/{category_id}`にエンドポイントが変更になります。"
      operationId: getCategoryByIdOld
      tags:
        - Common
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Category'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /master/categories:
    get:
      summary: カテゴリ一覧
      description: Categoryエンティティの配列を返却
      operationId: listCategories
      tags:
        - Common
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Category'
            application/xml:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Category'
            multipart/form-data:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Category'
          headers:
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
            X-Prev-Page:
              schema:
                type: integer
                nullable: true
            X-Total:
              schema:
                type: integer
            X-Total-Pages:
              schema:
                type: integer
            X-Next-Page:
              schema:
                type: integer
                nullable: true
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    parameters: []
  '/master/categories/{category_id}':
    parameters:
      - schema:
          type: integer
        name: category_id
        in: path
        required: true
    get:
      summary: カテゴリ単体
      description: Categoryエンティティの取得
      operationId: getCategoryById
      tags:
        - Common
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Category'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /master/delivery_companies:
    get:
      summary: 配送会社の一覧を取得
      operationId: getDeliveryCompanys
      description: DeliveryCompanyの配列を取得
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/DeliveryCompany'
          headers:
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
            X-Prev-Page:
              schema:
                type: integer
                nullable: true
            X-Total:
              schema:
                type: integer
            X-Total-Pages:
              schema:
                type: integer
            X-Next-Page:
              schema:
                type: integer
                nullable: true
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
        - ApiKeyAuth: []
      tags:
        - Common
    parameters: []
  '/master/delivery_companies/{delivery_company_id}':
    parameters:
      - schema:
          type: integer
        name: delivery_company_id
        in: path
        required: true
    get:
      summary: 配送会社を取得
      operationId: getDeliveryCompany
      description: DeliveryCompanyの取得
      tags:
        - Common
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeliveryCompany'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      parameters: []
      security:
        - ApiKeyAuth: []

  /master/makers:
    get:
      summary: メーカーの一覧を取得
      operationId: getMakers
      description: Makerの配列を取得
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Maker'
          headers:
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
            X-Prev-Page:
              schema:
                type: integer
                nullable: true
            X-Total:
              schema:
                type: integer
            X-Total-Pages:
              schema:
                type: integer
            X-Next-Page:
              schema:
                type: integer
                nullable: true
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
        - ApiKeyAuth: []
      tags:
        - Common
    parameters: []
  '/master/makers/{maker_id}':
    parameters:
      - schema:
          type: integer
        name: maker_id
        in: path
        required: true
    get:
      summary: メーカーを取得
      operationId: getMaker
      description: Makerの取得
      tags:
        - Common
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Maker'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      parameters: []
      security:
        - ApiKeyAuth: []
  '/master/makers/{maker_id}/maker_branches':
    parameters:
      - schema:
          type: integer
        name: maker_id
        in: path
        required: true
    get:
      summary: メーカーの支店一覧を取得
      operationId: getMakerBranches
      description: MakerBranchの配列を取得
      tags:
        - Common
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/MakerBranch'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      parameters: []
      security:
        - ApiKeyAuth: []
  '/master/makers/{maker_id}/maker_branches/{maker_branch_id}':
    parameters:
      - schema:
          type: integer
        name: maker_id
        in: path
        required: true
      - schema:
          type: integer
        name: maker_branch_id
        in: path
        required: true
    get:
      summary: メーカーの支店を取得
      operationId: getMakerBranch
      description: MakerBranchの取得
      tags:
        - Common
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MakerBranch'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      parameters: []
      security:
        - ApiKeyAuth: []
  /master/makers/{maker_id}/maker_branches/{maker_branch_id}/maker_sales_offices:
    get:
      summary: メーカーの営業所一覧の取得
      operationId: listMasterMakerSalesOffices
      description: MakerSalesOfficeの配列
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/MakerSalesOffice'
          headers:
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
            X-Prev-Page:
              schema:
                type: integer
                nullable: true
            X-Total:
              schema:
                type: integer
            X-Total-Pages:
              schema:
                type: integer
            X-Next-Page:
              schema:
                type: integer
                nullable: true
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
        - ApiKeyAuth: []
      tags:
        - Common
    parameters:
      - schema:
          type: integer
        name: maker_id
        in: path
        required: true
      - schema:
          type: integer
        name: maker_branch_id
        in: path
        required: true
  '/master/makers/{maker_id}/maker_branches/{maker_branch_id}/maker_sales_offices/{maker_sales_office_id}':
    get:
      summary: メーカーの営業所の取得
      operationId: showMasterMakerMakerSalesOfficeById
      description: MakerSalesOfficeの取得
      tags:
        - Common
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MakerSalesOffice'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      parameters: []
      security:
        - ApiKeyAuth: []
    parameters:
      - schema:
          type: integer
        name: maker_id
        in: path
        required: true
      - schema:
          type: integer
        name: maker_branch_id
        in: path
        required: true
      - schema:
          type: integer
        name: maker_sales_office_id
        in: path
        required: true
  /master/retails:
    get:
      summary: 小売りの一覧を取得
      operationId: getRetails
      description: Retailの配列を取得
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Retail'
          headers:
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
            X-Prev-Page:
              schema:
                type: integer
                nullable: true
            X-Total:
              schema:
                type: integer
            X-Total-Pages:
              schema:
                type: integer
            X-Next-Page:
              schema:
                type: integer
                nullable: true
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
        - ApiKeyAuth: []
      tags:
        - Common
    parameters: []
  '/master/retails/{retail_id}':
    parameters:
      - schema:
          type: integer
        name: retail_id
        in: path
        required: true
    get:
      summary: 小売りを取得
      operationId: getRetail
      description: Retailの取得
      tags:
        - Common
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Retail'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      parameters: []
      security:
        - ApiKeyAuth: []
  '/master/retails/{retail_id}/retail_branches':
    parameters:
      - schema:
          type: integer
        name: retail_id
        in: path
        required: true
    get:
      summary: 小売りの支店一覧を取得
      operationId: getRetailBranches
      description: RetailBranchの配列を取得
      tags:
        - Common
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/RetailBranch'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      parameters: []
      security:
        - ApiKeyAuth: []
  '/master/retails/{retail_id}/retail_branches/{retail_branch_id}':
    parameters:
      - schema:
          type: integer
        name: retail_id
        in: path
        required: true
      - schema:
          type: integer
        name: retail_branch_id
        in: path
        required: true
    get:
      summary: 小売りの支店を取得
      operationId: getRetailBranch
      description: RetailBranchの取得
      tags:
        - Common
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RetailBranch'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      parameters: []
      security:
        - ApiKeyAuth: []
  /master/retails/{retail_id}/retail_branches/{retail_branch_id}/retail_sales_offices:
    get:
      summary: 小売りの営業所一覧の取得
      operationId: listMasterRetailSalesOffices
      description: RetailSalesOfficeの配列
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/RetailSalesOffice'
          headers:
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
            X-Prev-Page:
              schema:
                type: integer
                nullable: true
            X-Total:
              schema:
                type: integer
            X-Total-Pages:
              schema:
                type: integer
            X-Next-Page:
              schema:
                type: integer
                nullable: true
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
        - ApiKeyAuth: []
      tags:
        - Common
    parameters:
      - schema:
          type: integer
        name: retail_id
        in: path
        required: true
      - schema:
          type: integer
        name: retail_branch_id
        in: path
        required: true
  '/master/retails/{retail_id}/retail_branches/{retail_branch_id}/retail_sales_offices/{retail_sales_office_id}':
    get:
      summary: 小売りの営業所の取得
      operationId: showMasterRetailRetailSalesOfficeById
      description: RetailSalesOfficeの取得
      tags:
        - Common
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RetailSalesOffice'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      parameters: []
      security:
        - ApiKeyAuth: []
    parameters:
      - schema:
          type: integer
        name: retail_id
        in: path
        required: true
      - schema:
          type: integer
        name: retail_branch_id
        in: path
        required: true
      - schema:
          type: integer
        name: retail_sales_office_id
        in: path
        required: true
  /status:
    get:
      summary: ヘルスチェック用URL
      operationId: getStatus
      description: 稼働中のAPI仕様のバージョンを表示することと、ヘルスチェック用のエンドポイントです。
      tags:
        - Common
      responses:
        '200':
          description: Healthcheck OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  version:
                    type: string
                required:
                  - version
              examples:
                Example:
                  value:
                    version: 1.0.0
        '500':
          description: Healthcheck NG
          content:
            application/json:
              schema:
                type: object
                properties:
                  version:
                    type: string
                required:
                  - version
              examples:
                Example:
                  value:
                    version: 1.0.0
  /maker/orders_makers:
    parameters: []
    get:
      summary: メーカー用 注文一覧取得
      tags:
        - Maker
      parameters:
        - name: is_confirmed
          in: query
          description: 受注確定しているかどうか
          required: false
          schema:
            type: boolean
        - name: is_cancel_confirmed
          in: query
          description: キャンセル確定しているかどうか
          required: false
          schema:
            type: boolean
        - name: status
          in: query
          description: ステータス(0：納期未回答, 2：出荷待ち, 3：出荷済み, 4：納品完了, 99：キャンセル)
          required: false
          schema:
            type: integer
        - name: delivery_date_from
          in: query
          description: 納品日FROM(YYYY-MM-DD)
          required: false
          schema:
            type: string
        - name: delivery_date_to
          in: query
          description: 納品日TO(YYYY-MM-DD)
          required: false
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/OrdersMakerWithDescendant'
          headers:
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
            X-Prev-Page:
              schema:
                type: integer
                nullable: true
            X-Total:
              schema:
                type: integer
            X-Total-Pages:
              schema:
                type: integer
            X-Next-Page:
              schema:
                type: integer
                nullable: true
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
        - ApiKeyAuth: []
      operationId: listOrdersForMaker
      description: list orders
  /maker/orders_makers/{order_code}:
    parameters:
      - schema:
          type: string
        name: order_code
        in: path
        required: true
    get:
      summary: メーカー用 注文取得
      tags:
        - Maker
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrdersMakerWithDescendant'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
        - ApiKeyAuth: []
      operationId: showAnOrderForMaker
      description: show an order
  '/maker/orders_makers/{order_code}/order_products':
    parameters:
      - schema:
          type: string
        name: order_code
        in: path
        required: true
    get:
      summary: 注文明細の一覧を取得
      operationId: getOrderProducts
      description: 指定された注文における
      tags:
        - Maker
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/OrderProduct'
          headers:
            X-Page:
              schema:
                type: integer
            X-Per-Page:
              schema:
                type: integer
            X-Prev-Page:
              schema:
                type: integer
                nullable: true
            X-Total:
              schema:
                type: integer
            X-Total-Pages:
              schema:
                type: integer
            X-Next-Page:
              schema:
                type: integer
                nullable: true
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
        - ApiKeyAuth: []
  '/maker/orders_makers/{order_code}/order_products/{branch_number}':
    parameters:
      - schema:
          type: string
        name: order_code
        in: path
        required: true
      - schema:
          type: string
        name: branch_number
        in: path
        required: true
        description: 注文明細No
    get:
      summary: 注文明細を取得する
      tags:
        - Maker
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderProduct'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      operationId: maker-get-orders-order_code-products-order_product_code
      description: show OrderProduct entities corresponding to the id
      security:
        - ApiKeyAuth: []
  /maker/orders_makers/{order_code}/order_products/{branch_number}/confirm:
    parameters:
      - schema:
          type: string
        name: order_code
        in: path
        required: true
      - schema:
          type: string
        name: branch_number
        in: path
        required: true
        description: 注文明細No
    post:
      summary: メーカー用 受注確定
      operationId: confirm-order
      responses:
        '201':
          description: Updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderProduct'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      description: confirm order
      tags:
        - Maker
      security:
        - ApiKeyAuth: []

  /maker/orders_makers/{order_code}/order_products/{branch_number}/update_delivery_date:
    parameters:
      - schema:
          type: string
        name: order_code
        in: path
        required: true
        description: 注文番号
      - schema:
          type: string
        name: branch_number
        in: path
        required: true
        description: 注文明細No
      - schema:
          type: string
        name: official_estimated_delivery_date
        in: query
        required: true
        description: 納期日(YYYY-MM-DD)
    post:
      summary: メーカー用 納期回答
      operationId: answer-delivery-date
      responses:
        '201':
          description: Updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderProduct'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      description: 納期回答を行います。納期日が変更になった場合にもこちらのエンドポイントを再度利用してください。
      tags:
        - Maker
      security:
        - ApiKeyAuth: []
  /maker/orders_makers/{order_code}/order_products/{branch_number}/ship:
    parameters:
      - schema:
          type: string
        name: order_code
        in: path
        required: true
        description: 注文番号
      - schema:
          type: string
        name: branch_number
        in: path
        required: true
        description: 注文明細No
      - schema:
          type: integer
        name: delivery_company_id
        in: query
        required: false
        description: 配送業者ID
      - schema:
          type: string
        name: shipping_slip_number
        in: query
        required: false
        description: 配送伝票番号
    post:
      summary: 配送済みにステータスを変更
      operationId: shipped
      description: 配送済みにステータスを変更。オプションのパラメータによって配送業者と配送伝票番号を登録できる。
      responses:
        '201':
          description: Updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderProduct'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      tags:
        - Maker
      security:
        - ApiKeyAuth: []
  /maker/orders_makers/{order_code}/order_products/{branch_number}/confirm_cancel:
    parameters:
      - schema:
          type: string
        name: order_code
        in: path
        required: true
        description: 注文番号
      - schema:
          type: string
        name: branch_number
        in: path
        required: true
        description: 注文明細No
    post:
      summary: メーカー用 キャンセル受注確定
      operationId: confirm-cancel-order
      description: キャンセル処理を受け付けたことを通知
      responses:
        '201':
          description: Updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrderProduct'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errors'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      tags:
        - Maker
      security:
        - ApiKeyAuth: []
components:
  schemas:
    Product:
      title: Product
      type: object
      xml:
        name: Product
      x-tags:
        - product
      description: A single product.
      properties:
        id:
          type: integer
          format: int64
        created_at:
          type: string
          format: date-time
          description: レコード作成日時
        updated_at:
          type: string
          format: date-time
          description: レコード更新日時
        disabled_at:
          type: string
          format: date-time
          nullable: true
        estimated_delivery_duration:
          type: integer
          nullable: true
        use_gas_type_master:
          type: boolean
          nullable: true
        maker_id:
          type: integer
        status:
          type: string
          description: product status in the store
          enum:
            - available
            - pending
            - sold
        internal_code:
          type: string
          nullable: true
          description: メーカー内部コード
        name:
          type: string
          example: 商品A
        category_id:
          type: integer
        maker_code:
          type: string
      required:
        - id
        - name
        - category_id
    ProductForKumo:
      title: Product for kumo
      type: object
      xml:
        name: Product
      x-tags:
        - product
      description: A single product.
      properties:
        maker_code:
          type: string
          description: 雲の宇宙船内で利用されているメーカーコード
        product_code:
          type: string
          example: 111-222-333-444
          description: 型式（品番）
        internal_code:
          type: string
          description: メーカー内部コード
          example: 12-10002
        name:
          type: string
          description: 商品名
          example: doggie
        price_amount:
          type: integer
          description: メーカー希望小売価格(税抜)
          example: 10000
        maker_price_for_retail_amount:
          type: integer
          description: 仕入れ値
          example: 8000
        tax_division:
          type: integer
          description: '0固定(課税対象)'
          example: 0
        power_consumption:
          type: string
          description: '空文字固定'
          example: ''
        horsepower:
          type: string
          description: '空文字固定'
          example: ''
        start_date:
          type: string
          format: date
          description: 取り扱い開始日
          example: '2021/01/20'
        use_gas_type_master:
          type: boolean
          description: ガス種の指定が必須かどうか
          example: true
      required:
        - maker_code
        - product_code
        - name
        - maker_price_for_retail_amount
        - tax_division
        - power_consumption
        - horsepower
        - start_date
        - use_gas_type_master
    DeliveryCompany:
      title: DeliveryCompany
      type: object
      description: 配送会社
      properties:
        id:
          type: integer
          example: 1
          description: 配送会社ID
        name:
          type: string
          description: 配送会社名
          example: ヤマト急便
        created_at:
          type: string
          format: date-time
          description: レコード作成日時
        updated_at:
          type: string
          format: date-time
          description: レコード更新日時
      required:
        - id
        - name
      x-tags:
        - delivery_company
    Maker:
      title: Maker
      type: object
      description: メーカー
      properties:
        id:
          type: integer
        code:
          type: string
        name:
          type: string
        created_at:
          type: string
          format: date-time
          description: レコード作成日時
        updated_at:
          type: string
          format: date-time
          description: レコード更新日時
      required:
        - id
        - code
        - name
      x-tags:
        - maker
    MakerBranch:
      title: MakerBranch
      description: メーカーの支店
      type: object
      properties:
        id:
          type: integer
        code:
          type: string
        name:
          type: string
        created_at:
          type: string
          format: date-time
          description: レコード作成日時
        updated_at:
          type: string
          format: date-time
          description: レコード更新日時
      required:
        - id
        - code
        - name
      x-tags:
        - maker
    MakerSalesOffice:
      title: MakerSalesOffice
      description: メーカーの営業所
      type: object
      properties:
        id:
          type: string
        code:
          type: string
        name:
          type: string
        postcode:
          type: string
        prefecture:
          type: string
        city:
          type: string
        street_address:
          type: string
        tel:
          type: string
        fax:
          type: string
        created_at:
          type: string
          format: date-time
          description: レコード作成日時
        updated_at:
          type: string
          format: date-time
          description: レコード更新日時
      x-tags:
        - Maker
    MakerUser:
      title: MakerUser
      description: メーカーのユーザ
      type: object
      properties:
        id:
          type: integer
        code:
          type: string
        email:
          type: string
          format: email
        role:
          type: string
          enum:
            - admin
            - clerk
            - sales
        last_name:
          type: string
        first_name:
          type: string
        last_name_kane:
          type: string
        first_name_kana:
          type: string
        tel:
          type: string
        created_at:
          type: string
          format: date-time
          description: レコード作成日時
        updated_at:
          type: string
          format: date-time
          description: レコード更新日時
      x-tags:
        - Maker
    Category:
      title: Category
      type: object
      x-examples:
        example-1: {}
      x-tags:
        - product
      description: ''
      properties:
        id:
          type: integer
          format: int64
        ancestry_depth:
          type: integer
        ancestry:
          type: string
          nullable: true
        created_at:
          type: string
          format: date-time
          description: レコード作成日時
        updated_at:
          type: string
          format: date-time
          description: レコード更新日時
        name:
          type: string
        disabled_at:
          type: string
          format: date-time
          nullable: true
      required:
        - id
        - name
    Error:
      title: Error
      type: object
      description: A standard error object.
      x-tags:
        - common
      properties:
        code:
          type: string
        message:
          type: string
      required:
        - code
        - message
      x-examples:
        認証失敗:
          code: '401'
          message: 認証に失敗しました
        実行権限がない:
          code: '403'
          message: APIを実行する権限がありません
        注文番号重複エラー:
          code: '409'
          message: 注文番号190123456789はすでに存在しています
        注文が見つからない:
          code: '404'
          message: 注文が見つかりませんでした
        サーバエラー:
          code: '500'
          message: 'APIサーバーでエラーが発生しました. <アプリケーションのエラーメッセージ> <発生時刻> <リクエストID>'
    OrderProduct:
      title: OrderProduct
      type: object
      x-tags:
        - order
      description: '注文明細'
      properties:
        id:
          type: string
          description: 'ID'
          example: 1
        orders_maker_id:
          type: string
          description: 'OrdersMakerの外部キー'
          example: 1
        product_id:
          type: integer
          description: 'ProductのID'
          example: 1
        gas_type_id:
          description: ガス種を選択する商品の場合、必須項目
          type: integer
          nullable: true
        name:
          type: string
          description: 商品名
        code:
          type: string
          description: 注文明細
        branch_number:
          type: integer
          description: 注文明細No
        internal_code:
          type: string
          nullable: true
          description: メーカー内部コード
          example: 12-10002
        price_amount:
          type: integer
          nullable: true
          description: 定価
        price_currency:
          type: string
          nullable: true
          description: 通貨
        maker_price_for_retail_amount:
          type: integer
          description: メーカーの卸値
        maker_price_for_retail_currency:
          type: string
          description: メーカーの卸値（通貨）
        subtotal_excluding_tax:
          type: integer
          description: 税抜小計
        estimated_delivery_duration:
          type: integer
          description: 目安納期日数
        shipping_status:
          type: string
          nullable: true
          enum:
            - undelivered
            - delivered
          description: 配送ステータス
        delivery_date:
          type: string
          nullable: true
          format: date
          description: 納期目安
        number_of_items:
          type: integer
          description: 個数
        cancelled_at:
          type: string
          nullable: true
          description: 仕入納品APIでキャンセルした場合、キャンセル日時を設定
          format: date-time
        shipping_postcode:
          type: string
          nullable: true
          description: 郵便番号
        shipping_prefecture_code:
          type: integer
          nullable: true
          description: 都道府県
        shipping_city:
          type: string
          nullable: true
          description: 市区町村
        shipping_street_address:
          type: string
          nullable: true
          description: 番地・号
        shipping_building:
          type: string
          nullable: true
          description: 建物名
        shipping_office_name:
          type: string
          nullable: true
          description: 営業所名
        shipping_tel:
          type: string
          nullable: true
          description: 電話番号
        estimated_delivery_date:
          type: string
          nullable: true
          format: date
          description: 納期目安
        official_estimated_delivery_date:
          type: string
          nullable: true
          format: date
          description: 納期回答
        answered_at:
          type: string
          nullable: true
          format: date-time
          description: 納期回答日時
        order_status:
          type: string
          enum:
            - ordered
            - answered
            - shipped
            - delivered
            - cancelled
          description: 注文明細ステータス
        memo:
          type: string
          nullable: true
          description: 備考
        order_confirmed_at:
          type: string
          nullable: true
          format: date-time
          description: 注文受付日時
        cancel_confirmed_at:
          type: string
          nullable: true
          format: date-time
          description: キャンセル注文受付日時
        shipping_slip_number:
          description: 配送伝票番号
          nullable: true
          type: string
        delivery_company_id:
          description: 配送業者ID
          nullable: true
          type: integer
        created_at:
          type: string
          format: date-timek
          description: レコード作成日時
        updated_at:
          type: string
          format: date-time
          description: レコード更新日時
      required:
        - id
        - orders_maker_id
        - product_id
        - name
        - code
        - branch_number
    Order:
      title: Order
      type: object
      description: '注文'
      x-tags:
        - order
      x-examples:
        example-1: {}
      properties:
        id:
          type: string
          description: ID
        retail_id:
          type: integer
          description: Retailの外部キー
        code:
          type: string
          description: 注文ID
        memo:
          type: string
          description: 注文に対する備考
          nullable: true
        ordered_at:
          type: string
          format: date-time
          description: 注文日
        created_at:
          type: string
          format: date-time
          description: レコード作成日時
        updated_at:
          type: string
          format: date-time
          description: レコード更新日時
      required:
        - id
        - retail_id
        - code
    Retail:
      title: Retail
      description: 小売り
      type: object
      properties:
        id:
          type: integer
          description: ID
        name:
          type: string
          description: 小売り名
        code:
          type: string
          description: コード
        created_at:
          type: string
          format: date-time
          description: レコード作成日時
        updated_at:
          type: string
          format: date-time
          description: レコード更新日時
      required:
        - id
        - name
        - code
    RetailBranch:
      title: RetailBranch
      description: 小売りの支店
      type: object
      properties:
        id:
          type: integer
        code:
          type: string
        name:
          type: string
        created_at:
          type: string
          format: date-time
          description: レコード作成日時
        updated_at:
          type: string
          format: date-time
          description: レコード更新日時
      required:
        - id
        - code
        - name
      x-tags:
        - retail
    RetailSalesOffice:
      title: RetailSalesOffice
      description: 小売りの営業所
      type: object
      properties:
        id:
          type: string
          description: ID
        code:
          type: string
          description: コード
        name:
          type: string
          description: 小売営業所名
        postcode:
          type: string
        prefecture:
          type: string
        city:
          type: string
        street_address:
          type: string
        tel:
          type: string
        fax:
          type: string
        created_at:
          type: string
          format: date-time
          description: レコード作成日時
        updated_at:
          type: string
          format: date-time
          description: レコード更新日時
      x-tags:
        - retail
    RetailUser:
      title: RetailUser
      description: 小売りのユーザ
      type: object
      properties:
        id:
          type: integer
        code:
          type: string
        email:
          type: string
          format: email
        role:
          type: string
          enum:
            - admin
            - clerk
            - sales
        last_name:
          type: string
        first_name:
          type: string
        last_name_kane:
          type: string
        first_name_kana:
          type: string
        tel:
          type: string
        created_at:
          type: string
          format: date-time
          description: レコード作成日時
        updated_at:
          type: string
          format: date-time
          description: レコード更新日時
      x-tags:
        - retail
    OrdersMaker:
      title: OrdersMaker
      description: メーカーごとの注文
      x-tags:
        - retail
        - maker
      type: object
      properties:
        id:
          type: string
          description: ID
        maker_id:
          type: integer
          description: Makerの外部キー
        maker_user_id:
          type: integer
          description: MakerUserの外部キー
        maker_sales_office_id:
          type: integer
          description: MakerSalesOfficeの外部キー
        retail_user_id:
          type: integer
          description: RetailUserの外部キー
        retail_sales_office_id:
          type: integer
          description: RetailSalesOfficeの外部キー
        code:
          type: string
          description: ID
        status:
          type: string
          enum:
            - ordered
            - answered
            - shipped
            - delivered
            - cancelled
          description: ステータス
        created_at:
          type: string
          format: date-time
          description: レコード作成日時
        updated_at:
          type: string
          format: date-time
          description: レコード更新日時
        desired_delivery_date:
          type: string
          format: date
          description: "希望納期日。指定しない場合、タノミマスター算出する納期目安を設定。(フォーマット: `yyyy-mm-dd`)"
        maker_code:
          type: string
          description: MakerのUsercode
      required:
        - id
        - maker_id
    Errors:
      title: Errors
      type: object
      x-examples: {}
      properties:
        code:
          type: string
        messages:
          type: array
          items:
            type: string
      required:
        - code
        - messages
      description: バリデーションエラーなど複数エラーメッセージがある場合
      x-tags:
        - common
    OrderForCreate:
      title: OrderForCreate
      type: object
      description: ''
      x-tags:
        - order
      x-examples:
        example:
          code: '2000000014'
          ordered_at: '2020/03/03 12:43:36'
          makers:
            - maker_code: '1'
              shipping_postcode: null
              shipping_prefecture_code: 15
              shipping_city: null
              shipping_street_address: 埼玉県さいたま市桜区上大久保８８８－５
              shipping_building: null
              shipping_office_name: 日本瓦斯株式会社　浦和営業所
              shipping_tel: 048-854-1910
              retail_user_code: '01210'
              retail_sales_office_code: '00022'
              desired_delivery_date: 2020/03/10
              products:
                - code: 60S W N300
                  branch_number: 1
                  number_of_items: 3
                  gas_type_id: null
                  memo: 備考欄
      properties:
        code:
          type: string
          description: 注文番号
        makers:
          type: array
          minItems: 1
          items:
            type: object
            properties:
              maker_code:
                type: string
              products:
                type: array
                minItems: 1
                items:
                  type: object
                  properties:
                    code:
                      type: string
                    branch_number:
                      type: integer
                      description: 注文明細No。指定しない場合、タノミマスターで自動発番
                    number_of_items:
                      type: integer
                      minimum: 1
                    gas_type_id:
                      description: ガス種を選択する商品の場合、必須項目
                      type: integer
                      nullable: true
                    memo:
                      type: string
                  required:
                    - code
                    - number_of_items
              code:
                type: string
                description: order code per maker
              retail_sales_office_code:
                type: string
              retail_user_code:
                type: string
              desired_delivery_date:
                type: string
                format: date
                description: 希望納期. 指定しない場合、タノミマスター算出する納期目安を設定
              shipping_postcode:
                type: string
              shipping_city:
                type: string
              shipping_street_address:
                type: string
              shipping_building:
                type: string
              shipping_office_name:
                type: string
              shipping_tel:
                type: string
              shipping_prefecture_code:
                type: integer
            required:
              - maker_code
              - retail_user_code
        ordered_at:
          type: string
          format: date-time
          description: 注文日時。時刻文字列にTZ指定がない場合、JSTとして処理する
      required:
        - code
    ProductCheckCodeRequest:
      title: ProductCheckCodeRequest
      type: object
      description: POST /products/check_code Request
      properties:
        maker_code:
          type: string
        product_code:
          type: array
          items:
            type: string
      required:
        - maker_code
        - product_code
      x-tags:
        - product
      x-examples:
        example:
          items:
            - maker_code: maker01
              product_code:
                - '111'
                - '222'
            - maker_code: maker02
              product_code:
                - '333'
                - '444'
    ProductCheckCodeResponse:
      title: ProductCheckCodeResponse
      type: object
      x-examples:
        example:
          maker_code: rinnai
          products:
            - code: 12-10002
              maker_price_for_retail_amount: 10000
              maker_price_for_retail_currency: JPY
              is_available: true
            - code: 12-10003
              maker_price_for_retail_amount: null
              maker_price_for_retail_currency: null
              is_available: false
      properties:
        maker_code:
          type: string
        products:
          type: array
          items:
            type: object
            properties:
              code:
                type: string
              maker_price_for_retail_amount:
                type: integer
                nullable: true
                description: '定価。nullの場合はオープンプライス。'
              maker_price_for_retail_currency:
                type: string
                nullable: true
                description: '定価の通貨。ISO 4217。nullの場合はオープンプライス。'
              is_available:
                type: boolean
                description: The product is on sale or not
            required:
              - code
      required:
        - maker_code
        - products
      description: POST /products/check_code Response
    OrderWithDescendant:
      allOf:
        - $ref: '#/components/schemas/Order'
        - type: object
          properties:
            orders_makers:
              type: array
              items:
                $ref: '#/components/schemas/OrdersMakerWithDescendant'
      title: OrderWithDescendant
    OrdersMakerWithDescendant:
      allOf:
        - $ref: '#/components/schemas/OrdersMaker'
        - type: object
          properties:
            order_products:
              type: array
              items:
                $ref: '#/components/schemas/OrderProduct'
            order:
              $ref: '#/components/schemas/OrderWithDescendant'
            retail_user:
              $ref: '#/components/schemas/RetailUser'
            sales_office:
              $ref: '#/components/schemas/RetailSalesOffice'
      title: OrdersMakerWithDescendant
  securitySchemes:
    ApiKeyAuth:
      type: http
      scheme: Bearer
      description: 管理者権限で管理画面にログインし、左側のメニューから「APIキーの確認」を選んでください。
